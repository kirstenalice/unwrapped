(this.webpackJsonpmarck=this.webpackJsonpmarck||[]).push([[0],{21:function(e,t,n){},61:function(e,t,n){},97:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(1),r=n.n(c),v=n(49),i=n.n(v),o=(n(61),n(7)),s=n(26),l=(n(62),s.a.initializeApp({apiKey:"AIzaSyD1G0eI-iPUodSMMPlOkgC0O5delqrd-J0",authDomain:"unwrapped-bd11c.firebaseapp.com",projectId:"unwrapped-bd11c",storageBucket:"unwrapped-bd11c.appspot.com",messagingSenderId:"1065816994881",appId:"1:1065816994881:web:cc814964319a907b74c2c0"})),d=r.a.createContext(),u=function(e){var t=e.children,n=Object(c.useState)(null),r=Object(o.a)(n,2),v=r[0],i=r[1],s=Object(c.useState)(!0),u=Object(o.a)(s,2),A=u[0],b=u[1];return Object(c.useEffect)((function(){l.auth().onAuthStateChanged((function(e){i(e),b(!1)}))}),[]),A?Object(a.jsx)("div",{children:"Loading...."}):Object(a.jsx)(d.Provider,{value:{currentUser:v},children:t})},A=n(10),b=n(8),j=n(110),h=(n(21),Object(j.a)({rootContainer:{display:"flex",flexDirection:"column",marginLeft:10,marginRight:10},h1:{fontSize:36},h2:{fontSize:24},h3:{fontSize:18,textDecoration:"underline solid"},container:{display:"flex",flexDirection:"row",justifyContent:"space-between"},subcontainer:{display:"flex",width:"50%",flexDirection:"column",justifyContent:"flex-start"},featuresAndTech:{display:"flex",flexFlow:"column nowrap",alignItems:"flex-start",justifyContent:"flex-start",textAlign:"left"}}));var m=function(){var e=h();return Object(a.jsxs)("div",{className:e.rootContainer,children:[Object(a.jsx)("h1",{className:e.h1,children:"Welcome to Unwrapped"}),Object(a.jsx)("h2",{className:e.h2,children:"Coded by: Matt Gorman, Kirsten Meidlinger, Amanda Gomes, Ryan Qin, and Chaeli Vieira"}),Object(a.jsx)("p",{className:e.description,children:"This site uses the Spotify API to create a better version of Spotify Wrapped! Unlike Spotify Wrapped, this site can be used at any time of the year to get your top artists and songs."}),Object(a.jsxs)("div",{className:e.container,children:[Object(a.jsxs)("div",{className:e.subcontainer,children:[Object(a.jsx)("h3",{className:e.h3,children:"Site Features"}),Object(a.jsxs)("ul",{className:e.featuresAndTech,children:[Object(a.jsx)("li",{children:"See your top artists and songs from the past month, the past year and of all time!"}),Object(a.jsx)("li",{children:"Create a playlist based on one of your top artists that is save directly to your spotify page!"}),Object(a.jsx)("li",{children:"View your top 50 playlists that you already have saved!"}),Object(a.jsx)("li",{children:"Listen to your public and private playlists!"}),Object(a.jsx)("li",{children:"Save a PDF of your top 20 artists and tracks of all time!"})]})]}),Object(a.jsxs)("div",{className:e.subcontainer,children:[Object(a.jsx)("h3",{className:e.h3,children:"Technologies Used"}),Object(a.jsxs)("ul",{className:e.featuresAndTech,children:[Object(a.jsx)("li",{children:"React Front-End with an Express Back-End"}),Object(a.jsx)("li",{children:"Spotify API: Getting your listening history"}),Object(a.jsx)("li",{children:"Firebase: Logging in to your Spotify account"}),Object(a.jsx)("li",{children:"Redis: Caching often-used information"}),Object(a.jsx)("li",{children:"Wkhtmltopdf: Creating a PDF of your top songs and artists"}),Object(a.jsx)("li",{children:"ImageMagick: Uploading custom cover art for playlists"})]})]})]})]})},p=n(4),O=n.n(p),g=n(9),x=n(5),f=Object(j.a)({h1:{fontSize:36},button:{marginTop:10,backgroundColor:"#e6007d",border:"none","&:hover":{backgroundColor:"#b80064"},"&:active":{backgroundColor:"#b80064"},"&:focus":{backgroundColor:"#b80064"}}});var y=function(){var e=Object(c.useContext)(d).currentUser,t=f();return window.addEventListener("message",function(){var e=Object(g.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("http://localhost:9000"===t.origin){e.next=3;break}return console.log("bad origin"),e.abrupt("return");case 3:return e.next=5,s.a.auth().signInWithCustomToken(t.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e?Object(a.jsx)("div",{children:Object(a.jsx)(b.a,{to:"/"})}):Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{className:t.h1,children:"Welcome to Unwrapped"}),Object(a.jsx)(x.a,{onClick:function(){window.open("http://localhost:9000/login-redirect","firebaseAuth","height=315,width=400")},size:"lg",className:t.button,children:"Log in with Spotify"})]})},w=Object(j.a)({button:{marginTop:10,backgroundColor:"#e6007d",border:"none","&:hover":{backgroundColor:"#b80064"},"&:active":{backgroundColor:"#b80064"},"&:focus":{backgroundColor:"#b80064"}},link:{color:"white","&:hover":{color:"white",textDecoration:"none"}}});var C=function(){var e=Object(c.useContext)(d).currentUser,t=w();function n(){return(n=Object(g.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.auth().signOut();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return e?Object(a.jsxs)("div",{children:[Object(a.jsx)("p",{children:"Are you sure you want to log out?"}),Object(a.jsx)(x.a,{type:"button",onClick:function(){return n.apply(this,arguments)},size:"lg",className:t.button,children:Object(a.jsx)(A.b,{to:"/",className:t.link,children:"Log out"})})]}):Object(a.jsx)("div",{children:Object(a.jsx)(b.a,{to:"login"})})},k="data:image/jpeg;base64,77+977+977+977+9ABBKRklGAAEBAAABAAEAAO+/ve+/vQDvv70ACQYHCAcGCAgHCAgICAkLCgsXCgoLGwgVDRYgHSIiIB0fHyQoKCwkJiUnHx8tMS0lKSsuLi4jKzM4Myw3KC0uKwEKCgoFBQUOBQUOKxkTGSsrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysrKysr77+977+9ABEIAO+/vQDvv70DASIAAhEBAxEB77+977+9ABoAAQEAAwEBAAAAAAAAAAAAAAAEAgMFAQfvv73vv70APBAAAgICAQIEAwMJBgcAAAAAAAECAwQREgUhExQxQVHvv73vv70yYXEVIjM1Uu+/ve+/ve+/ve+/vXTvv73vv73vv73vv73vv70jQkVTVHJz77+977+9ABQBAQAAAAAAAAAAAAAAAAAAAADvv73vv70AFBEBAAAAAAAAAAAAAAAAAAAAAO+/ve+/vQAMAwEAAhEDEQA/AO+/vSAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHNwPvv71O77+9zIx777+9GDjvv71sYTXvv70077+977+977+9V2/vv70dIEt977+9NxLvv73Hhe+/vTbvv73vv73vv71bWjDvv73JulkrFxFW77+9UO+/vSVl77+977+9QTfvv73vv71677+9Be+/ve+/ve+/ve+/vTsreXLvv73vv717Jxrvv71YQ++/vXXvv73ptbbvv71v77+977+9AAld77+9XU1j77+9b++/veiVvu+/ve+/ve+/ve+/vQ8+77+977+977+977+9NR8vKEEp67qbTe+/ve+/vSk/77+9HRBhbe+/ve+/ve+/ve+/vWTvv73CuO+/vU3vv70SI++/ve+/vXdmUWXvv70Q77+9JRtlHilx77+977+9a39/cC8HO++/ve+/vdmJZVHvv70x77+9S8We77+9AO+/vTTvv71ff3/vv73Ogmnvv73vv73vv71977+9B++/ve+/vVN2Xmp277+977+9VjY3KUYude+/ve+/vcSe77+977+9Ru+/vTvvv73vv73vv73vv71GCu+/vWXOtO+/vRsT77+9a37vv73vv73vv70C77+9c2Fmbk5GWu+/ve+/vXrvv73vv73vv70NKe+/ve+/ve+/vWTvv73vv73vv73vv71WNDLvv70pPO+/ve+/ve+/vTXvv71XW++/vU/vv73vv73vv70AAAAAAAAAAAAA77+9Ue+/ve+/vXHvv73vv70l77+977+9Xm5F77+977+977+9ZO+/vW/vv73vv71nXNGJ77+95ZWr77+9PxLvv71t77+9462/QDnvv73vv71ZWe+/vTZuPh3vv715UO+/vW/vv70SSW1/77+9Yu+/vW0u77+977+9E++/vXXiv5bvv73vv73vv718H1Pvv706EnDvv71jKO+/vSXvv71t77+9J++/vT0ZZWI7bu+/ve+/vVrvv73IhHhz77+977+9TXwa77+9QGvrv6stS++/vTnSl++/ve+/vS0X77+9Je+/vXXvv73vv71mbe+/vTVL77+9a++/ve+/vQo777+9b++/vW3vv71i77+9IH/vv70h77+977+9f++/vUTvv70077+977+93qUa3q3vv73vv70rIO+/vRJba++/vWvvv710Xjbvv73vv73SqVXvv71fF++/ve+/ve+/vW8PMu+/ve+/vVvvv71MeO+/ve+/ve+/vX7vv70AMCPIvj1C77+9Kivvv70577+9bO+/ve+/ve+/vS7vv70/77+977+977+977+977+977+977+9f++/ve+/vT/vv70z77+977+977+9Lk5F0ZPvv73vv73vv71F77+91a3vv73vv73vv73vv73vv73vv70xJV1Z77+977+977+9Z++/vWXvv70p77+977+9G2kv77+9fWgOfj5mPe+/ve+/ve+/vXxu77+977+9Xgrvv71M77+977+9NduzS13vv71s77+977+9XO+/vemutu+/veyjnT/vv73vv71b77+977+977+977+977+9Wi3Gpjjvv73vv73vv71f2a4R77+977+9GEMb77+9zbciM9K6EO+/ve+/vV7vv73vv73vv73vv73vv70G77+977+977+977+9FxXSoTsVUUoyfFN/Bu+/ve+/ve+/vXLvv73vv71l77+977+9NVVc77+9XC3vv712Oe+/ve+/vWtd77+977+9GO+/vSvvv71vBu+/vVdd77+9c++/ve+/vVFv1a0077+977+9Bu+/vVxJVX3vv70X77+977+977+9Ru+/ve+/ve+/ve+/vVJ7SS/vv73vv73vv70eNVk2Ze+/vRdGUu+/vT5nXF1K3b4r77+977+9Ojjvv73vv71cWu+/ve+/vXtv77+9Vu+/ve+/ve+/vXYlWHlV35FmNlVw77+977+9eO+/vSdP77+977+977+9Xu+/vV8C77+9au+/vSbvv70v77+977+977+9Qu+/vQtP77+977+977+9AAAAAAAAAAAAAAIcHu+/ve+/ve+/vcitQe+/vVbvv70Zb++/ve+/ve+/vU3vv73vv71oC++/vTLvv71+fljvv73vv73vv73vv70o77+9Ge+/ve+/ve+/vemvl2/vv73vv73vv73vv73SsUfvv73coQjvv718eTbvv73vv70U77+9Tl3vv70bFsum77+977+9G++/vd+yX++/vTHvv73vv73vv7140LXHhNuUZV7vv73vv71PTX1A77+9E++/ve+/ve+/ve+/ve+/vRXvv70H77+957+/WhVkOe+/ve+/ve+/veKSpVTvv71v77+9ae+/ve+/vQUAEWfvv70F77+9fj1uDmrHuUt/77+977+977+977+977+977+9Be+/ve+/ve+/ve+/ve+/vWzvv73vv73vv70hfXjvv73Oue+/vTTvv73vv70v77+9Xw0B77+9BO+/vXkrKu+/vWLvv73vv73vv70lOu+/vVzvv71g16oYGQ8vDu+/ve+/vVQd77+977+977+9PloC77+9Te+/vTJn77+9Qu+/vXDvv73vv70rKu+/vUZS77+93r1Nbs6n77+9AO+/ve+/ve+/vTvvv73vv71aDxbvv71TaSfvv71F77+9PQAAAAAAAAAAAj7vv73vv73vv70wLe+/vUlGcl4cW3xSb++/vX8vX++/vc+eThYs77+9fO+/ve+/vWjvv73vv73vv70eSjNScu+/ve+/ve+/ve+/vUnvv71O77+9Rjzvv73vv73GnO+/vR0Uc++/vQfvv70pNe+/ve+/ve+/ve+/vc2ZOO+/vWRj77+9S++/vRLvv70lHe+/ve+/ve+/ve+/vVAn77+977+977+977+9V++/vS3vv73vv73vv70P77+977+9T++/vXl+77+9eu+/vT1L77+9eO+/ve+/vQ/vv73vv73vv71H77+977+977+977+977+9Rl8Z77+9VXhycXzvv73vv71p77+9T0rDsxLvv73vv73vv70jZe+/vUo777+977+9JO+/vV9F77+977+977+977+9cilZeHjvv71bCu+/ve+/ve+/ve+/ve+/vUop77+977+9b++/vR5gZO+/ve+/vVTJpu+/ve+/ve+/ve+/ve+/vRzvv73vv71KWu+/ve+/ve+/vc+z77+977+90Yrvv71OVe+/ve+/vU5W77+9Me+/ve+/vS4wS++/ve+/ve+/ve+/ve+/ve+/vXZPHu+/vXUIW0Xvv73vv71177+9ST7vv71277+977+9Gu+/vQDvv73vv73vv70A77+9MX9bdQ/vv70xf++/vTd5ee+/vVHvv70777+977+977+9eHrvv73vv73vv73vv700Tu+/vdqz77+9L8aONO+/vXRqWu+/ve+/vVtaTXsn77+9A++/vXDhk4Xvv70+77+9LO+/ve+/vStXcsaK77+977+9XGLvv71v77+977+9fyR0H++/ve+/ve+/ve+/vTjvv73vv71k77+977+977+977+9Y++/vU3vv73vv73vv71uNi1Y77+977+9Uu+/vQbvv70I77+9bitv77+9A09J77+977+9XT7vv70c77+977+9FSrvv73vv73vv71d77+977+977+977+977+977+9U++/vR/vv70oVEcP77+9GWnvv70pb++/ve+/ve+/vR8aVGXvv71OHBUX77+9T++/ve+/ve+/vRnvv73vv73vv73vv73Wie+/ve+/ve+/vVjvv73vv73vv70a8KagpO+/vTtl77+977+9fu+/vQMu77+977+9TkV2KSzvv71bOVnvv71377+9W++/vdezWtGXQ++/vVHvv73vv70A77+977+977+9ZhY077+9V++/vXXvv73vv73vv73vv73zlKK477+977+977+977+93JE2FV1LExbvv71414U1XHjvv712Si3vv73vv702de+/vV5S77+9D++/vT8z77+977+9Xu+/ve+/vU3vv73vv70uS++/ve+/ve+/vWct77+977+977+9Mu+/ve+/ve+/vSrTjRHIhe+/vVnHm++/ve+/ve+/vVvvv73vv70Ace+/vVPvv70A77+977+977+9LO+/ve+/vRbvv73vv73vv71LaSlr77+977+9Z++/vQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAf++/ve+/vQ==",S=n(25),T=n(24),N=n.n(T),B=n(113),X=n(117),W=n(114),V=n(115),z=n(118),U=Object(j.a)({title:{fontSize:36,marginBottom:20},card:{maxWidth:250,height:"auto",marginLeft:"auto",marginRight:"auto",borderRadius:5,border:"1px solid #0B86F4",boxShadow:"0 19px 38px rgba(0,0,0,0.30), 0 15px 12px rgba(0,0,0,0.22);","&:hover":{border:"1px solid #f40b86"}},content:{height:90},titleHead:{color:"#0077da",borderBottom:"1px solid #0B86F4",fontWeight:"bold",minHeight:34},grid:{flexGrow:1,flexDirection:"row",paddingLeft:50,paddingRight:50},media:{height:250,width:250}}),L=function(e){var t=null,n=U(),r=Object(c.useState)(void 0),v=Object(o.a)(r,2),i=v[0],s=v[1],l=Object(c.useState)(!0),u=Object(o.a)(l,2),j=u[0],h=u[1],m=Object(c.useContext)(d).currentUser;if(Object(c.useEffect)((function(){function e(){return(e=Object(g.a)(O.a.mark((function e(){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.a.get("http://localhost:9000/playlists/".concat(m.uid));case 3:t=e.sent,n=t.data,s(n),h(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[m]),m){if(j)return Object(a.jsx)("div",{children:Object(a.jsx)("h2",{children:"Loading..."})});return t=i&&i.map((function(e){return function(e){return Object(a.jsx)(B.a,{item:!0,xs:12,sm:6,md:4,lg:3,xl:2,children:Object(a.jsxs)(X.a,{className:n.card,variant:"outlined",children:[Object(a.jsx)(A.b,{to:"/playlists/".concat(e.id),children:Object(a.jsx)(W.a,{className:n.media,component:"img",image:e&&e.images[0]?e.images[0].url:k,title:"show image"})}),Object(a.jsxs)(V.a,{className:n.content,children:[Object(a.jsx)(z.a,{className:n.titleHead,gutterBottom:!0,variant:"h6",component:"h2",children:e.name.length>=45?e.name.substring(0,19)+"...":e.name.length>=19?Object(a.jsx)(S.Textfit,{mode:"single",children:e.name}):e.name}),Object(a.jsxs)("p",{children:[e.tracks.total," songs"]})]})]})},e.id)}(e)})),Object(a.jsxs)("div",{children:[Object(a.jsxs)("h1",{className:n.title,children:[m.displayName,"'s Playlists"]}),Object(a.jsx)(B.a,{container:!0,className:n.grid,spacing:5,children:t})]})}return Object(a.jsx)("div",{children:Object(a.jsx)(b.a,{to:"/login"})})},H=n(95),E=Object(j.a)({h2:{color:"#0B86F4"},h3:{fontSize:24,fontWeight:"normal"},h4:{borderBottom:"1px solid #0B86F4",fontSize:16,fontWeight:"normal",paddingBottom:10},descriptionContainer:{display:"flex",flexDirection:"column",alignItems:"center"},uploadContainer:{display:"flex",flexDirection:"row",width:500,paddingLeft:50,paddingRight:"auto",justifyContent:"space-between"},button:{marginTop:10,backgroundColor:"#e6007d",border:"none","&:hover":{backgroundColor:"#b80064"},"&:active":{backgroundColor:"#b80064"},"&:focus":{backgroundColor:"#b80064"}},playlistHeader:{display:"flex",flexDirection:"row",width:"100%",justifyContent:"space-around"},playlistImage:{height:"250px",width:"250px"},playbackContainer:{padding:"20px"}}),F=function(e){var t=Object(c.useContext)(d).currentUser,n=Object(c.useState)(null),r=Object(o.a)(n,2),v=r[0],i=r[1],s=Object(c.useState)(!0),l=Object(o.a)(s,2),u=l[0],j=l[1],h=Object(c.useState)(null),m=Object(o.a)(h,2),p=m[0],f=m[1],y=Object(c.useState)(null),w=Object(o.a)(y,2),C=w[0],S=w[1],T=E(),B=function(){var n=Object(g.a)(O.a.mark((function n(){var a,c,r;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(".png"===p.name.slice(-4).toLowerCase()||".jpg"===p.name.slice(-4).toLowerCase()||".jpeg"===p.name.slice(-5).toLowerCase()){n.next=5;break}return alert("Image must be a png, jpg, or jpeg"),n.abrupt("return");case 5:if(!(v&&v.owner&&v.owner.id&&t&&t.uid&&v.owner.id!==t.uid.substring(t.uid.indexOf(":")+1,t.uid.length))){n.next=8;break}return alert("You do not have permission to edit this playlist"),n.abrupt("return");case 8:return(a=new H).append("file",p,p.name),S("uploading"),n.prev=11,n.next=14,N.a.post("http://localhost:9000/".concat(t.uid,"/").concat(e.match.params.playlistId,"/playlistImage"),a);case 14:c=n.sent,r=c.data,S(r),r.reload&&window.location.reload(),n.next=23;break;case 20:n.prev=20,n.t0=n.catch(11),console.log(n.t0);case 23:case"end":return n.stop()}}),n,null,[[11,20]])})));return function(){return n.apply(this,arguments)}}();Object(c.useEffect)((function(){function n(){return(n=Object(g.a)(O.a.mark((function n(){var a,c;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,N.a.get("http://localhost:9000/playlists/".concat(t.uid,"/").concat(e.match.params.playlistId));case 3:a=n.sent,c=a.data,i(c),j(!1),f(null),S(null),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),console.log(n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[t,e.match.params.playlistId]);var X="";return C&&C.message?X=C.message:C&&"uploading"===C&&(X="Updating image..."),t?v&&v.errorMessage?Object(a.jsxs)("div",{children:[Object(a.jsx)("h3",{children:v.errorMessage}),Object(a.jsx)(A.b,{to:"/playlists",children:"Back to Playlists"})]}):u?Object(a.jsx)("div",{children:Object(a.jsx)("h3",{children:"Loading..."})}):Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:T.playlistHeader,children:[Object(a.jsxs)("div",{className:"Playlist-tracks-info",children:[Object(a.jsx)("h2",{className:T.h2,children:v.name}),Object(a.jsx)("h3",{className:T.h3,children:v.description}),Object(a.jsxs)("h4",{className:T.h4,children:["A playlist by ",v.owner?v.owner.id:""]}),Object(a.jsxs)("div",{className:T.descriptionContainer,children:[Object(a.jsxs)("div",{className:T.uploadContainer,children:[Object(a.jsx)("label",{htmlFor:"new-playlist-image",children:"New Playlist Image"}),Object(a.jsx)("input",{type:"file",accept:".jpg, .jpeg, .png",onChange:function(e){f(e.target.files[0])},id:"new-playlist-image"})]}),Object(a.jsx)(x.a,{onClick:function(){p?B():alert("Please upload an image first!")},className:T.button,size:"lg",children:"Update Playlist Image"})]}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("p",{children:X})]}),Object(a.jsx)("img",{className:T.playlistImage,src:v.images&&v.images[0]?v.images[0].url:k,alt:v.name+" playlist art"})]}),Object(a.jsx)("div",{className:T.playbackContainer,children:Object(a.jsx)("iframe",{src:"https://open.spotify.com/embed/playlist/".concat(v.id),title:"spotify player for playlist ".concat(v.name),width:"100%",height:"600",frameBorder:"4",allowtransparency:"true",allow:"encrypted-media"})})]}):Object(a.jsx)("div",{children:Object(a.jsx)(b.a,{to:"/login"})})},I=n(116),Q=Object(j.a)({card:{width:250,height:"auto",marginLeft:"auto",marginRight:"auto",borderRadius:5,border:"1px solid #0B86F4",boxShadow:"0 19px 38px rgba(0,0,0,0.30), 0 15px 12px rgba(0,0,0,0.22);"},content:{maxWidth:250,height:200},titleHead:{borderBottom:"1px solid #0B86F4",fontWeight:"bold",minHeight:34},grid:{flexGrow:1,flexDirection:"row"},media:{height:"100%",width:"100%",borderBottom:"1px solid #0B86F4"},button:{color:"#1e8678",fontWeight:"bold",fontSize:12}});var K=function(e){var t=Q();return Object(a.jsx)(B.a,{item:!0,xs:12,sm:6,md:4,lg:3,xl:2,children:Object(a.jsx)(X.a,{className:t.card,variant:"outlined",children:Object(a.jsxs)("div",{children:[Object(a.jsx)(W.a,{className:t.media,component:"img",alt:e.name,image:e.url,title:"show image"},Object(I.a)()),Object(a.jsxs)(V.a,{className:t.content,children:[Object(a.jsx)(z.a,{className:t.titleHead,gutterBottom:!0,variant:"h6",component:"h2",children:e.name.length>=45?e.name.substring(0,19)+"...":e.name.length>=19?Object(a.jsx)(S.Textfit,{mode:"single",children:e.name}):e.name},Object(I.a)()),Object(a.jsxs)("div",{children:["by",Object(a.jsx)("br",{}),e.artists.map((function(e){return Object(a.jsx)("div",{children:e.name},Object(I.a)())}))]},Object(I.a)())]},Object(I.a)())]},Object(I.a)())},Object(I.a)())},Object(I.a)())},R=n(24),D=Object(j.a)({grid:{flexGrow:1,flexDirection:"row",paddingLeft:50,paddingRight:50,width:"100%"},button:{fontSize:24,backgroundColor:"#0B86F4",border:"none","&:hover":{backgroundColor:"#096bc3"}},activeButton:{fontSize:24,backgroundColor:"#f40b86",border:"none","&:hover":{backgroundColor:"#c3096b"}}});var P=function(){var e=D(),t=Object(c.useState)({}),n=Object(o.a)(t,2),r=n[0],v=n[1],i=Object(c.useState)("long_term"),s=Object(o.a)(i,2),l=s[0],u=s[1],A=Object(c.useState)(!1),b=Object(o.a)(A,2),j=b[0],h=b[1],m=Object(c.useContext)(d).currentUser,p=function(){u("short_term")},f=function(){u("medium_term")},y=function(){u("long_term")};Object(c.useEffect)((function(){function e(){return(e=Object(g.a)(O.a.mark((function e(){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.get("http://localhost:9000/tracks/".concat(m.uid,"/").concat(l));case 3:t=e.sent,n=t.data,v(n),h(!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[l,m.uid]);var w=r;return j?void 0===w||0===w.length?Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{children:"Sorry.. You dont have any top songs within this time period"},Object(I.a)()),Object(a.jsx)(x.a,{className:"short_term"===l?e.activeButton:e.button,variant:"secondary  mr-1",size:"lg",onClick:p,children:"This Month"},Object(I.a)()),Object(a.jsx)(x.a,{className:"medium_term"===l?e.activeButton:e.button,variant:"secondary  mr-1",size:"lg",onClick:f,children:"This Year"},Object(I.a)()),Object(a.jsx)(x.a,{className:"long_term"===l?e.activeButton:e.button,variant:"secondary  mr-1",size:"lg",onClick:y,children:"All Time"},Object(I.a)())]},Object(I.a)()):Object(a.jsxs)("div",{children:[Object(a.jsx)(x.a,{className:"short_term"===l?e.activeButton:e.button,variant:"secondary  mr-1",size:"lg",onClick:p,children:"This Month"},Object(I.a)()),Object(a.jsx)(x.a,{className:"medium_term"===l?e.activeButton:e.button,variant:"secondary  mr-1",size:"lg",onClick:f,children:"This Year"},Object(I.a)()),Object(a.jsx)(x.a,{className:"long_term"===l?e.activeButton:e.button,variant:"secondary  mr-1",size:"lg",onClick:y,children:"All Time"},Object(I.a)()),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("div",{children:Object(a.jsx)(B.a,{container:!0,className:e.grid,spacing:5,children:w.map((function(e){return Object(a.jsx)(K,{id:e.id,name:e.name,url:e.album.images[0].url,artists:e.artists},Object(I.a)())}))},Object(I.a)())})]},Object(I.a)()):Object(a.jsxs)("div",{children:[Object(a.jsx)(x.a,{className:"short_term"===l?e.activeButton:e.button,variant:"secondary  mr-1",size:"lg",onClick:p,children:"This Month"}),Object(a.jsx)(x.a,{className:"medium_term"===l?e.activeButton:e.button,variant:"secondary  mr-1",size:"lg",onClick:f,children:"This Year"}),Object(a.jsx)(x.a,{className:"long_term"===l?e.activeButton:e.button,variant:"secondary  mr-1",size:"lg",onClick:y,children:"All Time"})]})},G=n(24),M=Object(j.a)({card:{width:250,height:"auto",marginLeft:"auto",marginRight:"auto",borderRadius:5,border:"1px solid #0B86F4",boxShadow:"0 19px 38px rgba(0,0,0,0.30), 0 15px 12px rgba(0,0,0,0.22);"},content:{maxWidth:250,height:320},genre:{marginTop:0,marginBottom:0},titleHead:{borderBottom:"1px solid #0B86F4",fontWeight:"bold",minHeight:34},grid:{flexGrow:1,flexDirection:"row"},media:{height:250,width:"100%"},button:{width:"90%",fontSize:24,fontWeight:"bold",backgroundColor:"#f40b86",border:"none",marginTop:5,marginBottom:5,"&:hover":{backgroundColor:"#c3096b"}}});var _=function(e){var t=Object(c.useContext)(d).currentUser,n=Object(c.useState)(!1),r=Object(o.a)(n,2),v=r[0],i=r[1],s=Object(c.useState)(""),l=Object(o.a)(s,2),u=l[0],A=l[1],j=function(){var n=Object(g.a)(O.a.mark((function n(){return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,G({method:"post",url:"http://localhost:9000/playlists/".concat(t.uid,"/").concat(e.id)}).then((function(e){A(e.data),i(!0)}));case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),h=M();return v?Object(a.jsx)(b.a,{to:"/playlists/".concat(u)}):Object(a.jsx)(B.a,{item:!0,xs:12,sm:6,md:4,lg:3,xl:2,children:Object(a.jsxs)(X.a,{className:h.card,variant:"outlined",children:[Object(a.jsx)(W.a,{className:h.media,component:"img",alt:e.name,image:e.url,title:"show image"},Object(I.a)()),Object(a.jsxs)(V.a,{className:h.content,children:[Object(a.jsx)(z.a,{className:h.titleHead,gutterBottom:!0,variant:"h6",component:"h2",children:e.name.length>=45?e.name.substring(0,19)+"...":e.name.length>=19?Object(a.jsx)(S.Textfit,{mode:"single",children:e.name}):e.name},Object(I.a)()),Object(a.jsx)(x.a,{className:h.button,variant:"secondary  mr-1",size:"md",onClick:j,children:"Get Top Songs"},Object(I.a)()),Object(a.jsxs)("p",{children:["Followers:"," ",e.followers.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")]},Object(I.a)()),Object(a.jsxs)("div",{children:["Genres:",Object(a.jsx)("br",{}),e.genres.slice(0,5).map((function(e){return Object(a.jsx)("p",{className:h.genre,children:e},Object(I.a)())}))]},Object(I.a)())]},Object(I.a)())]},Object(I.a)())},Object(I.a)())},Y=n(24),J=Object(j.a)({grid:{flexGrow:1,flexDirection:"row",paddingLeft:50,paddingRight:50,width:"100%"},button:{fontSize:24,backgroundColor:"#0B86F4",border:"none","&:hover":{backgroundColor:"#096bc3"}},activeButton:{fontSize:24,backgroundColor:"#f40b86",border:"none","&:hover":{backgroundColor:"#c3096b"}}});var Z=function(){var e=J(),t=Object(c.useState)({}),n=Object(o.a)(t,2),r=n[0],v=n[1],i=Object(c.useState)("long_term"),s=Object(o.a)(i,2),l=s[0],u=s[1],A=Object(c.useState)(!1),b=Object(o.a)(A,2),j=b[0],h=b[1],m=Object(c.useContext)(d).currentUser,p=function(){u("short_term")},f=function(){u("medium_term")},y=function(){u("long_term")};Object(c.useEffect)((function(){function e(){return(e=Object(g.a)(O.a.mark((function e(){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y.get("http://localhost:9000/artists/".concat(m.uid,"/").concat(l));case 3:t=e.sent,n=t.data,v(n),h(!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[l,m.uid]);var w=r;return j?void 0===w||0===w.length?Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{children:"Sorry.. You dont have any top artists within this time period"},Object(I.a)()),Object(a.jsx)(x.a,{className:"short_term"===l?e.activeButton:e.button,variant:"secondary  mr-1",size:"lg",onClick:p,children:"This Month"},Object(I.a)()),Object(a.jsx)(x.a,{className:"medium_term"===l?e.activeButton:e.button,variant:"secondary  mr-1",size:"lg",onClick:f,children:"This Year"},Object(I.a)()),Object(a.jsx)(x.a,{className:"long_term"===l?e.activeButton:e.button,variant:"secondary  mr-1",size:"lg",onClick:y,children:"All Time"},Object(I.a)())]},Object(I.a)()):Object(a.jsxs)("div",{children:[Object(a.jsx)(x.a,{className:"short_term"===l?e.activeButton:e.button,variant:"secondary  mr-1",size:"lg",onClick:p,children:"This Month"},Object(I.a)()),Object(a.jsx)(x.a,{className:"medium_term"===l?e.activeButton:e.button,variant:"secondary  mr-1",size:"lg",onClick:f,children:"This Year"},Object(I.a)()),Object(a.jsx)(x.a,{className:"long_term"===l?e.activeButton:e.button,variant:"secondary  mr-1",size:"lg",onClick:y,children:"All Time"},Object(I.a)()),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("div",{children:Object(a.jsx)(B.a,{container:!0,className:e.grid,spacing:5,children:w.map((function(e){return Object(a.jsx)(_,{id:e.id,name:e.name,url:e.images[0].url,followers:e.followers.total,genres:e.genres},Object(I.a)())}))},Object(I.a)())},Object(I.a)())]}):Object(a.jsxs)("div",{children:[Object(a.jsx)(x.a,{className:"short_term"===l?e.activeButton:e.button,variant:"secondary  mr-1",size:"lg",onClick:p,children:"This Month"},Object(I.a)()),Object(a.jsx)(x.a,{className:"medium_term"===l?e.activeButton:e.button,variant:"secondary  mr-1",size:"lg",onClick:f,children:"This Year"},Object(I.a)()),Object(a.jsx)(x.a,{className:"long_term"===l?e.activeButton:e.button,variant:"secondary  mr-1",size:"lg",onClick:y,children:"All Time"},Object(I.a)())]})},q=n(24),$=Object(j.a)({h1:{fontSize:36,marginBottom:20},h2:{marginTop:20},pdfContainer:{marginLeft:"auto",marginRight:"auto",width:600,display:"flex",flexFlow:"column nowrap",justifyContent:"center"},pdfButton:{width:"auto",fontSize:28,backgroundColor:"#F40B86",border:"none",alignSelf:"center","&:hover":{backgroundColor:"#c3096b"},"&:focus":{backgroundColor:"#c3096b"},"&:active":{backgroundColor:"#c3096b"}}});var ee=function(){var e=Object(c.useContext)(d).currentUser,t=$();function n(e){for(var t=document.createElement("ol"),n=0;n<e.length;n++){var a=document.createElement("li");a.setAttribute("class","remove"),a.appendChild(document.createTextNode(e[n])),t.appendChild(a)}return t}function r(){return v.apply(this,arguments)}function v(){return(v=Object(g.a)(O.a.mark((function t(){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,q.get("http://localhost:9000/stats/".concat(e.uid));case 3:return n=t.sent,t.abrupt("return",n);case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function i(){return o.apply(this,arguments)}function o(){return(o=Object(g.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.getElementById("foo").outerHTML,e.prev=1,e.next=4,q({method:"post",url:"http://localhost:9000/pdf",headers:{"Content-Type":"text/html"},data:t});case 4:window.open("http://localhost:9000/download"),function(e){return e.forEach((function(e){return e.remove()}))}(document.querySelectorAll(".remove")),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}var s=function(){var e=Object(g.a)(O.a.mark((function e(){var t,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:return t=e.sent,(a=document.createElement("h2")).setAttribute("class","remove"),a.appendChild(document.createTextNode("Top Artists")),document.getElementById("foo").appendChild(a),document.getElementById("foo").appendChild(n(t.data.artists)),(a=document.createElement("h2")).setAttribute("class","remove"),a.appendChild(document.createTextNode("Top Songs")),document.getElementById("foo").appendChild(a),document.getElementById("foo").appendChild(n(t.data.tracks)),e.next=15,i();case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsx)("div",{children:e?Object(a.jsxs)("div",{children:[Object(a.jsxs)("h1",{className:t.h1,children:[e.displayName,"'s Listening History"]}),Object(a.jsxs)("div",{className:t.pdfContainer,children:[Object(a.jsx)(x.a,{variant:"secondary",onClick:s,className:t.pdfButton,children:"Download Listening History From All Time PDF"}),Object(a.jsx)(S.Textfit,{mode:"single",forceSingleModeWidth:!0,children:"Disclaimer: If your Top Artists or Top Songs of All Time are empty, nothing will show in that field on the PDF"}),Object(a.jsx)("div",{id:"foo"})]}),Object(a.jsx)("h2",{className:t.h2,children:"Top Songs:"}),Object(a.jsx)(P,{}),Object(a.jsx)("h2",{className:t.h2,children:"Top Artists:"}),Object(a.jsx)(Z,{})]}):Object(a.jsx)(b.a,{to:"/login"})})};var te=function(){return Object(c.useContext)(d).currentUser?Object(a.jsxs)("nav",{className:"nav",children:[Object(a.jsx)(A.c,{to:"/playlists",className:"navlink",children:"Playlists"}),Object(a.jsx)(A.c,{to:"/stats",className:"navlink",children:"Listening History"}),Object(a.jsx)(A.c,{to:"/logout",className:"navlink",children:"Log out"})]}):Object(a.jsxs)("nav",{className:"nav",children:[Object(a.jsx)(A.c,{to:"/login",className:"navlink",children:"Playlists"}),Object(a.jsx)(A.c,{to:"/login",className:"navlink",children:"Listening History"}),Object(a.jsx)(A.c,{to:"/login",className:"navlink",children:"Log in"})]})};var ne=function(){return Object(a.jsx)(u,{children:Object(a.jsx)(A.a,{children:Object(a.jsxs)("div",{className:"App",children:[Object(a.jsxs)("header",{className:"App-header",children:[Object(a.jsx)("h1",{children:Object(a.jsx)(A.b,{to:"/",className:"Title-link",children:"Unwrapped"})}),Object(a.jsx)(te,{})]}),Object(a.jsxs)("div",{className:"App-body",children:[Object(a.jsx)("br",{}),Object(a.jsx)(b.b,{exact:!0,path:"/",component:m}),Object(a.jsx)(b.b,{exact:!0,path:"/login",component:y}),Object(a.jsx)(b.b,{exact:!0,path:"/logout",component:C}),Object(a.jsx)(b.b,{exact:!0,path:"/stats",component:ee}),Object(a.jsx)(b.b,{exact:!0,path:"/playlists",component:L}),Object(a.jsx)(b.b,{exact:!0,path:"/playlists/:playlistId",component:F})]})]})})})},ae=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,120)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,v=t.getTTFB;n(e),a(e),c(e),r(e),v(e)}))};n(96);i.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(ne,{})}),document.getElementById("root")),ae()}},[[97,1,2]]]);
//# sourceMappingURL=main.7384ade7.chunk.js.map